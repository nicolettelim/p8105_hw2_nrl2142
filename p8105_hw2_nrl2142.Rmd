---
title: "p8105_hw2_nrl2142"
output: github_document
date: "2025-09-29"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library (tidyverse)
```

## Cleaning pols-month.csv data 
```{r}
polsmonth_df = read_csv ("/Users/gorgeous/Desktop/fivethirtyeight_datasets/pols-month.csv") |>
  janitor::clean_names() |>
  separate(mon, into = c("year", "month", "day"), sep = "-") |>
  mutate (month = month.name [as.numeric (month)]) |>
  mutate (year = as.integer(year)) |>
  pivot_longer(
    cols = c("prez_gop","prez_dem"),
    names_to = "president",
    values_to = "polstance") |>
  mutate (president = case_match(
          president,
          "prez_gop" ~ "gop",
          "prez_dem" ~ "dem")) |>
  select (-polstance,-day) |>
  relocate(year, month)

polsmonth_df

```

## Cleaning snp.csv data
```{r}
snp_df = read_csv("/Users/gorgeous/Desktop/fivethirtyeight_datasets/snp.csv") |>
  janitor::clean_names() |>
  separate(date, into = c("month", "day", "year"), sep = "/") |>
  mutate (month = month.name [as.numeric (month)]) |>
  mutate (year = 2000 + as.integer (year)) |>
  select (-day) |>
  relocate (year,month)
  
  snp_df
```

##Cleaning unemployment data 
```{r}
unemployment_df = read_csv("/Users/gorgeous/Desktop/fivethirtyeight_datasets/unemployment.csv") |>
  janitor::clean_names() |>
  pivot_longer(
    cols = jan:dec,
    names_to = "month",
    values_to = "unemployment_percent") |>
  relocate (year, month)

unemployment_df
```

## Merging snp data into pols data
```{r}
snppolsmerge_df =
  left_join (snp_df, polsmonth_df, by = c("year", "month")) |>
  relocate (year, month)
```

## Merging result with unemployment
```{r}
finalmerge_df =
  left_join (snppolsmerge_df, unemployment_df, by = c("year", "month")) |>
  relocate (year, month)

finalmerge_df
```

```





